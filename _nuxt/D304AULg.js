import{d as _,j as w,a as g,b as d,D as b,o as i,c as y,H as h,k as m,J as k,B,C,u as v}from"./vbHQqoUN.js";import{_ as I}from"./Du-AOyQB.js";import{_ as T}from"./Y2zckodO.js";const j={key:0,class:"flex items-center border-b p-3 font-mono text-sm"},W={class:"w-auto bg-muted/30 p-2"},F=_({__name:"FileTree",props:{title:{},icon:{},autoSlash:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},tree:{}},setup(l){const a=new Map(Object.entries(w().value.main.codeIcon));function c(e,n){if(e!=="...")return e.endsWith("/")?"lucide:folder":a.get(e.split(".")[e.split(".").length-1])||a.get(e.toLowerCase())||(n==="file"?"lucide:file":"lucide:folder")}function f(e,n,o){let t=e,s=!1;t.startsWith("^")&&t.endsWith("^")&&(t=t.substring(1,t.length-1),s=!0);let r="none";return t.startsWith("+")?r="addition":t.startsWith("-")&&(r="deletion"),n==="file"?{title:t,icon:c(t,"file"),highlighted:s,diff:r}:{title:`${t}${l.autoSlash?"/":""}`,icon:c(t,"folder"),children:o&&u(o),highlighted:s,diff:r}}function u(e){const n=[];for(const o of e)if(typeof o=="string")n.push(f(o,"file"));else if(typeof o=="object")for(const t of Object.keys(o))n.push(f(t,"folder",o[t]));return n}const p=g(()=>u(l.tree));return(e,n)=>{const o=k,t=I,s=T;return i(),d(s,{class:"relative overflow-hidden [&:not(:first-child)]:mt-5 [&:not(:last-child)]:mb-5"},{default:b(()=>[e.title?(i(),y("div",j,[e.icon?(i(),d(o,{key:0,name:e.icon,class:"mr-1.5"},null,8,["name"])):h("",!0),m("span",null,B(e.title),1)])):h("",!0),m("div",W,[C(t,{tree:v(p),"show-arrow":e.showArrow,"show-icon":e.showIcon,level:0},null,8,["tree","show-arrow","show-icon"])])]),_:1})}}}),V=Object.assign(F,{__name:"FileTree"});export{V as default};
