import C from"./CjBI9uB7.js";import{j as k,d as S,g as T,b,o as j,h as B}from"./vbHQqoUN.js";import"./BDO2X3fQ.js";import"./Y2zckodO.js";function I(e,t){const i=new Map(Object.entries(k().value.main.codeIcon));if(e!=="...")return e.endsWith("/")?"lucide:folder":i.get(e.toLowerCase())||i.get(e.split(".")[e.split(".").length-1])||(t==="file"?"lucide:file":"lucide:folder")}const V=S({__name:"CodeTree",props:{inStack:{type:Boolean,default:!1},defaultValue:{},height:{default:400},title:{}},setup(e){const t=T();function i(){var f,d,u;const o=((f=t==null?void 0:t.default)==null?void 0:f.call(t))||[],r=[];for(const p of o){const l=(d=p.props)==null?void 0:d.filename.split("/");l[0]===""&&l.splice(0,1);let c=r;l.forEach((a,g)=>{var h;let n=c.find(m=>m.title===a);const s=g===l.length-1;n||(n={title:a,children:s?void 0:[],diff:"none",highlighted:!1,icon:I(a,s?"file":"folder"),path:(h=p.props)==null?void 0:h.filename},c.push(n)),!s&&n.children&&(c=n.children)})}return B(C,{height:e.height,defaultValue:e.defaultValue||((u=o[0].props)==null?void 0:u.filename)||"",inStack:e.inStack,tree:r,title:e.title},()=>o)}return(o,r)=>(j(),b(i))}}),M=Object.assign(V,{__name:"CodeTree"});export{M as default};
